<h1 class="title">Primer Set: <%= @primer_set.name %> </h1>
<div class="tile">
  <div class="tile">
    <strong>Organism: </strong>
    <%= link_to @primer_set.organism, @primer_set.organism %>
  </div>
  <div class="tile">
    <strong>Amplification Method: </strong>
    <%= @primer_set.amplification_method %>
  </div>
  <% if can?(:confirm, PrimerSet) %>
    <div class="tile">
      <strong>Status: </strong>
      <%= @primer_set.status %>
    </div>
  <% end %>

  <div class="tile">
    <%= render 'primer_set_subscription',
               user: current_user,
               primer_set: @primer_set,
               primer_set_subscription: @primer_set.subscription_for_user(current_user) %>
  </div>
</div>
<hr/>
<h2 class="title">Primers:</h2>
<table>
  <thead>
  <tr>
    <th data-priority="1">Name</th>
    <th>Locus</th>
    <th>Category</th>
    <th data-priority="2">Sequence</th>
  </tr>
  </thead>

  <tbody>
  <% @primer_set.oligos.each do |oligo| %>
    <tr>
      <td><%= link_to_if can?(:edit, oligo), oligo.name, edit_oligo_path(oligo) %></td>
      <td><%= oligo.locus %></td>
      <td><%= oligo.category %></td>
      <td><%= oligo.sequence %></td>
    </tr>
  <% end %>
  </tbody>
</table>


<% if can? :edit, @primer_set %>
  <%= link_to 'Edit', edit_primer_set_path(@primer_set) %> |
<% end %>
<%= link_to 'All Primer Sets', primer_sets_path %>
