digraph "summarize_variants" {

update_downloadData [label="download_data"];


update_extractNewRecords [label="extract_new_records"];
update_downloadData -> update_extractNewRecords [label="downloaded_data"];

update_splitText [shape=circle,label="",fixedsize=true,width=0.1,xlabel="splitText"];
update_extractNewRecords -> update_splitText [label="filtered_data"];

update_transformData [label="transform_data"];
update_splitText -> update_transformData;

update_align [label="align"];
update_transformData -> update_align [label="transformed_data"];

update_align -> update_loadToDB [label="metadata_plus_variants"];

update_getPangolinVersion [label="get_pangolin_version"];

update_pangolinCalls [label="pangolin_calls"];
update_getPangolinVersion -> update_pangolinCalls [label="transformed_data"];

update_transformData -> update_pangolinCalls [label="transformed_data"];

update_pangolinCalls -> update_loadToDB [label="pangolin_lineage_data"];

update_loadToDB [label="load_to_db"];

update_collect2 [shape=circle,label="",fixedsize=true,width=0.1,xlabel="collect"];
update_loadToDB -> update_collect2 [label="complete_metadata_files"];

update_recalculateDatabaseViews [label="recalculate_database_views"];

update_collect2 -> update_recalculateDatabaseViews;

update_recomputeAffectedPrimers [label="recompute_affected_primers"];
update_recalculateDatabaseViews -> update_recomputeAffectedPrimers [label="complete"];


}

digraph "recall_pangolin" {

recall_downloadData [label="download_data"];

recall_getPangolinVersion [label="get_pangolin_version"];
recall_pangolinCalls [label="pangolin_calls"];

recall_getPangolinVersion -> recall_pangolinCalls [label="latest_pangolin"];

recall_extractNewRecords [label="extract_new_records"];
recall_downloadData -> recall_extractNewRecords [label="downloaded_data"];

recall_splitText [shape=circle,label="",fixedsize=true,width=0.1,xlabel="splitText"];
recall_extractNewRecords -> recall_splitText;

recall_transformData [label="transform_data"];
recall_splitText -> recall_transformData;

recall_transformData -> recall_pangolinCalls;

recall_loadPangolinData [label="load_pangolin_data"];
recall_pangolinCalls -> recall_loadPangolinData;

recall_collect [shape=circle,label="",fixedsize=true,width=0.1,xlabel="collect"];
recall_loadPangolinData -> recall_collect;

recall_updateCalls [label="update_calls"];
recall_collect -> recall_updateCalls;

recall_cleanupOldCalls [label="cleanup_old_calls"];
recall_updateCalls -> recall_cleanupOldCalls;

recall_recomputeAffectedPrimers [label="recompute_affected_primers"];
recall_updateCalls -> recall_recomputeAffectedPrimers;

}
