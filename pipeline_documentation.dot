digraph "summarize_variants" {

update_downloadData [label="download_data"];


update_extractNewRecords [label="extract_new_records"];
update_downloadData -> update_extractNewRecords [label="downloaded_data"];

update_splitText [shape=circle,label="",fixedsize=true,width=0.1,xlabel="splitText"];
update_extractNewRecords -> update_splitText [label="filtered_data"];

update_transformData [label="transform_data"];
update_splitText -> update_transformData;

update_align [label="align"];
update_transformData -> update_align [label="transformed_data"];

update_loadToDB [label="load_to_db"];
update_align -> update_loadToDB [label="metadata_plus_variants"];

update_collect1 [shape=circle,label="",fixedsize=true,width=0.1,xlabel="collect"];
update_loadToDB -> update_collect1 [label="complete_metadata_files"];

update_loadPangolinData [label="load_pangolin_data"];
update_loadToDB -> update_loadPangolinData [label="complete_metadata_files"];

update_getPangolinVersion [label="get_pangolin_version"];

update_pangolinCalls [label="pangolin_calls"];
update_getPangolinVersion -> update_pangolinCalls [label="transformed_data"];

update_transformData -> update_pangolinCalls [label="transformed_data"];

update_pangolinCalls -> update_loadPangolinData [label="pangolin_lineage_data"];

update_loadPangolinData [label="load_pangolin_data"];
update_getPangolinVersion -> update_loadPangolinData [label="use_pending"];

update_loadPangolinData [label="load_pangolin_data"];
update_collect2 [shape=circle,label="",fixedsize=true,width=0.1,xlabel="collect"];
update_loadPangolinData -> update_collect2 [label="complete_files_pangolin"];

update_updateNewCalls [label="update_new_calls"];
update_collect1 -> update_updateNewCalls;

update_collect2 -> update_updateNewCalls;

update_recalculateDatabaseViews [label="recalculate_database_views"];
update_updateNewCalls -> update_recalculateDatabaseViews [label="done"];

update_recomputeAffectedPrimers [label="recompute_affected_primers"];
update_recalculateDatabaseViews -> update_recomputeAffectedPrimers [label="complete"];


}

digraph "recall_pangolin" {

recall_getNewVersions [label="get_new_versions"];
recall_pangolinCalls [label="pangolin_calls"];

recall_getNewVersions -> recall_pangolinCalls [label="latest_pangolin"];

recall_extractNewRecords [label="extract_new_records"];
recall_splitText [shape=circle,label="",fixedsize=true,width=0.1,xlabel="splitText"];
recall_extractNewRecords -> recall_splitText;

recall_transformData [label="transform_data"];
recall_splitText -> recall_transformData;

recall_transformData -> recall_pangolinCalls;

recall_loadPangolinData [label="load_pangolin_data"];
recall_pangolinCalls -> recall_loadPangolinData;

recall_collect [shape=circle,label="",fixedsize=true,width=0.1,xlabel="collect"];
recall_loadPangolinData -> recall_collect;

recall_updateCurrentCalls [label="update_current_calls"];
recall_collect -> recall_updateCurrentCalls;

recall_updateNewCalls [label="update_new_calls"];
recall_updateCurrentCalls -> recall_updateNewCalls;

}
